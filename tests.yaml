- name: ACIBOOTSTRAP Tests
  hosts: apic
  connection: local
  gather_facts: no
  vars_files:
    - acibootstrap/files/vars/acibootstrap_vars.yml
    - acibootstrap/files/vars/static_vars.yml

  tasks:
  #  - name: Leafs
#      aci_leaf: host={{ inventory_hostname }} username={{ user }} password={{ pass }}
#      register: leafs#
#
#    - name: debug
  #    debug: var=leafs.response

    - name: spines
      aci_spine_id.py: host={{ inventory_hostname }} username={{ user }} password={{ pass }}
      register: spines

    - name: spine debug
      debug: var=spines.response


    - name: debug
      debug: msg="{{ vars }}"

    - name: leafs
      aci_leaf_id.py: host={{ inventory_hostname }} username={{ user }} password={{ pass }} protocol={{ protocol }}
      register: leafs

    - name: leafs debug
      debug: var=leafs.response

    - name: controllers
      aci_fabricNodeID.py: host={{ inventory_hostname }} username={{ user }} password={{ pass }} protocol={{ protocol }} role="controller"
      register: controllers

    - name: controllers debug
      debug: var=controllers.response